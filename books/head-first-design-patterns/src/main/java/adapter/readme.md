# é€‚é…å™¨
## [å¦‚ä½•å‘½åé€‚é…å™¨åç§°](https://chatgpt.com/share/68eb791a-5250-8006-bf72-529c808f69db)
```java
public class TurkeyAdapter implements Duck {
    private Turkey turkey;

    public TurkeyAdapter(Turkey turkey) {
        this.turkey = turkey;
    }

    @Override
    public void quack() {
        turkey.gobble();
    }

    @Override
    public void fly() {
        for(int i = 0; i < 5; i++) {
            turkey.fly();
        }
    }
}
```
è¿™ä¸ªé€‚é…å™¨çš„åç§°æ˜¯ç«é¸¡é€‚é…å™¨ï¼Œæ˜¯ä¸æ˜¯ä¸æ€ä¹ˆå¥½ï¼Œå› ä¸ºæˆ‘çœ‹è¿™ä¸ªé€‚é…å™¨çš„åå­—ä¸çŸ¥é“é€‚é…çš„ä»€ä¹ˆ?

ä½ éå¸¸æ•é” ğŸ‘â€”â€”è¿™ä¸ªé—®é¢˜å…¶å®è§¦åŠäº†**é€‚é…å™¨æ¨¡å¼çš„å‘½åè¯­ä¹‰æ ¸å¿ƒ**ã€‚

æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹è¿™ä¸ªç±»çš„è¯­ä¹‰ï¼š

```java
public class TurkeyAdapter implements Duck
```

è¿™è¡Œå­—å…¶å®å·²ç»è¯´æ˜äº†ä¸¤ä¸ªå…³é”®è§’è‰²ï¼š

* `Duck` æ˜¯**ç›®æ ‡æ¥å£**ï¼ˆTargetï¼‰â€”â€”å®¢æˆ·ç«¯å¸Œæœ›ä½¿ç”¨çš„æ¥å£ã€‚
* `Turkey` æ˜¯**è¢«é€‚é…è€…**ï¼ˆAdapteeï¼‰â€”â€”å·²æœ‰çš„ä¸å…¼å®¹ç±»å‹ã€‚

---

### ğŸ’¡ ä»è¯­ä¹‰ä¸Šçœ‹ï¼Œâ€œTurkeyAdapterâ€è¿™ä¸ªåå­—çš„é—®é¢˜æ˜¯ï¼š

> å®ƒå¼ºè°ƒäº†**è¢«é€‚é…è€…ï¼ˆTurkeyï¼‰**ï¼Œè€Œå¿½ç•¥äº†**é€‚é…æˆä»€ä¹ˆï¼ˆDuckï¼‰**ã€‚

å½“ä½ åªçœ‹åˆ° `TurkeyAdapter` æ—¶ï¼Œç¡®å®ä¸æ¸…æ¥šï¼š

> è¿™ä¸ªé€‚é…å™¨æ˜¯æŠŠç«é¸¡é€‚é…æˆä»€ä¹ˆï¼Ÿæ˜¯é€‚é…æˆé¸­å­å—ï¼Ÿè¿˜æ˜¯åˆ«çš„ï¼Ÿ

---

### ğŸ§  æ›´å¥½çš„å‘½åæ€è·¯

é€‚é…å™¨ç±»çš„å‘½ååº”è¯¥ä½“ç°ï¼š

> â€œè®©ä»€ä¹ˆçœ‹èµ·æ¥åƒä»€ä¹ˆâ€ã€‚

ä¹Ÿå°±æ˜¯ï¼š

> â€œAdapteeâ€ â†’ â€œTargetâ€

å› æ­¤æ›´æ¸…æ™°çš„å‘½åæ–¹å¼åŒ…æ‹¬ï¼š

| å‘½å                      | å«ä¹‰                    | å¯è¯»æ€§              |
| ----------------------- | --------------------- | ---------------- |
| `TurkeyToDuckAdapter`   | æŠŠ `Turkey` é€‚é…æˆ `Duck` | âœ… æ˜ç¡®             |
| `DuckAdapterFromTurkey` | ä» `Turkey` ç”Ÿæˆä¸€ä¸ªé¸­å­é€‚é…å™¨  | âœ… æ˜ç¡®ä½†ç•¥å†—é•¿         |
| `DuckLikeTurkeyAdapter` | è®©ç«é¸¡åƒé¸­å­ä¸€æ ·              | âœ… æœ‰è¯­ä¹‰æ„Ÿï¼ˆåœ¨æ•™å­¦ä»£ç ä¸­å¸¸è§ï¼‰ |
| `DuckAdapter`           | å¦‚æœä¸Šä¸‹æ–‡å·²ç»æ˜æ˜¾ï¼ˆæ¯”å¦‚åªæœ‰ä¸€ç§é€‚é…æ–¹å‘ï¼‰ | âš ï¸ å¯æ¥å—ä½†ç•¥æ¨¡ç³Š       |

---

### âœ… æ¨èå‘½å

åœ¨æ•™å­¦æˆ–å·¥ç¨‹ä»£ç é‡Œï¼Œæœ€æ¸…æ™°çš„å‘½åé€šå¸¸æ˜¯ï¼š

```java
public class TurkeyToDuckAdapter implements Duck
```

å®ƒæ¸…æ¥šåœ°è¡¨è¾¾ï¼š

> â€œæˆ‘è®©ç«é¸¡çœ‹èµ·æ¥åƒé¸­å­ä¸€æ ·èƒ½è¢«å½“ä½œé¸­å­ä½¿ç”¨â€ã€‚

---

### ğŸš€ å°ç»“

| å‘½åç›®æ ‡           | æ¨èåšæ³•                        |
| -------------- | --------------------------- |
| è¡¨æ˜â€œè°å˜æˆäº†è°â€      | ä½¿ç”¨ â€œAdapteeToTargetAdapterâ€ |
| è‹¥ä¸Šä¸‹æ–‡æ¸…æ™°ï¼ˆåªæœ‰ä¸€ç§æ–¹å‘ï¼‰ | å¯ç”¨ â€œTargetAdapterâ€          |
| é¿å…åªå†™è¢«é€‚é…è€…å      | å› ä¸ºçœ‹ä¸å‡ºç›®æ ‡ç±»å‹                   |

---

å¦‚æœä½ çš„é¡¹ç›®ä¸­è¿˜æœ‰å…¶ä»–ç±»ä¼¼çš„é€‚é…ï¼ˆä¾‹å¦‚ `ChickenAdapter implements Bird`ã€`PenguinAdapter implements Duck`ï¼‰ï¼Œé‚£æ›´åº”è¯¥ä½¿ç”¨ `TurkeyToDuckAdapter` è¿™æ ·çš„å‘½åæ–¹å¼ï¼Œæ–¹ä¾¿åˆ«äººå¿«é€Ÿçœ‹å‡º**é€‚é…æ–¹å‘**ã€‚

æ˜¯å¦å¸Œæœ›æˆ‘å¸®ä½ æ€»ç»“ä¸€ä»½é€‚é…å™¨å‘½åçš„é€šç”¨è§„åˆ™è¡¨ï¼ˆåŒ…æ‹¬åŒå‘é€‚é…å™¨æˆ–å¤šæ¥å£é€‚é…çš„æƒ…å†µï¼‰ï¼Ÿ

---

æˆ‘çœ‹åˆ°è®¾è®¡æ¨¡å¼é‡Œæåˆ°ä¸€ä¸ªåŒå‘é€‚é…å™¨ï¼Œèƒ½è¯´ä¸‹å—

éå¸¸å¥½ï¼Œè¿™ä¸ªé—®é¢˜åˆ‡å¾—å¾ˆæ·±ã€‚ğŸ‘
â€œåŒå‘é€‚é…å™¨â€ï¼ˆTwo-Way Adapterï¼‰æ˜¯**é€‚é…å™¨æ¨¡å¼ï¼ˆAdapter Patternï¼‰çš„ä¸€ç§è¿›é˜¶å˜ä½“**ï¼Œåœ¨æŸäº›ç³»ç»Ÿä¸­éå¸¸æœ‰ç”¨â€”â€”å°¤å…¶æ˜¯åœ¨**ä¸¤ç§æ¥å£éœ€è¦äº’æ“ä½œ**çš„åœºæ™¯ã€‚

---

## ğŸ§© ä¸€ã€å›é¡¾ï¼šæ™®é€šï¼ˆå•å‘ï¼‰é€‚é…å™¨

æ™®é€šçš„é€‚é…å™¨æ˜¯**å•å‘çš„**ï¼Œåªè§£å†³ä¸€ç§æ–¹å‘çš„ä¸å…¼å®¹ã€‚

ä¾‹å¦‚ï¼š

```java
public class TurkeyToDuckAdapter implements Duck {
    private Turkey turkey;

    public TurkeyToDuckAdapter(Turkey turkey) {
        this.turkey = turkey;
    }

    @Override
    public void quack() {
        turkey.gobble();
    }

    @Override
    public void fly() {
        for (int i = 0; i < 5; i++) turkey.fly();
    }
}
```

* **ç›®æ ‡æ¥å£ (Target)**ï¼š`Duck`
* **è¢«é€‚é…è€… (Adaptee)**ï¼š`Turkey`
* **é€‚é…æ–¹å‘**ï¼š`Turkey` â†’ `Duck`

æ­¤æ—¶ç«é¸¡å¯ä»¥â€œä¼ªè£…æˆé¸­å­â€ï¼Œä½†**é¸­å­ä¸èƒ½ä¼ªè£…æˆç«é¸¡**ã€‚

---

## ğŸ” äºŒã€åŒå‘é€‚é…å™¨ï¼ˆTwo-Way Adapterï¼‰

åŒå‘é€‚é…å™¨çš„ç›®æ ‡æ˜¯è®©ï¼š

> **Duck å’Œ Turkey éƒ½èƒ½é€šè¿‡åŒä¸€ä¸ªé€‚é…å™¨äº’ç›¸æ›¿ä»£ä½¿ç”¨ã€‚**

ä¹Ÿå°±æ˜¯è¯´ï¼š

* ä½ å¯ä»¥æŠŠ Duck å½“ä½œ Turkey ç”¨ï¼›
* ä¹Ÿå¯ä»¥æŠŠ Turkey å½“ä½œ Duck ç”¨ï¼›
* è€Œä¸¤è€…çš„è°ƒç”¨éƒ½é€šè¿‡åŒä¸€ä¸ªé€‚é…å™¨ç±»å®ç°ã€‚

---

## ğŸ’» ä¸‰ã€å®ç°ç¤ºä¾‹

å‡è®¾æ¥å£å¦‚ä¸‹ï¼š

```java
public interface Duck {
    void quack();
    void fly();
}

public interface Turkey {
    void gobble();
    void fly();
}
```

å®ç°åŒå‘é€‚é…å™¨ï¼š

```java
public class TwoWayAdapter implements Duck, Turkey {
    private Duck duck;
    private Turkey turkey;

    public TwoWayAdapter(Duck duck) {
        this.duck = duck;
    }

    public TwoWayAdapter(Turkey turkey) {
        this.turkey = turkey;
    }

    // --- å½“ä½œ Duck ä½¿ç”¨æ—¶ ---
    @Override
    public void quack() {
        if (turkey != null) {
            turkey.gobble();
        } else {
            duck.quack();
        }
    }

    @Override
    public void fly() {
        if (turkey != null) {
            for (int i = 0; i < 5; i++) turkey.fly();
        } else {
            duck.fly();
        }
    }

    // --- å½“ä½œ Turkey ä½¿ç”¨æ—¶ ---
    @Override
    public void gobble() {
        if (duck != null) {
            duck.quack();
        } else {
            turkey.gobble();
        }
    }
}
```

è¿™æ ·ï¼š

* ä½ å¯ä»¥ä¼ å…¥ä¸€ä¸ª `Turkey`ï¼Œå¾—åˆ°ä¸€ä¸ª `Duck`ï¼›
* ä¹Ÿå¯ä»¥ä¼ å…¥ä¸€ä¸ª `Duck`ï¼Œå¾—åˆ°ä¸€ä¸ª `Turkey`ã€‚

---

## ğŸ§  å››ã€ç”¨é€”ä¸å…¸å‹åœºæ™¯

åŒå‘é€‚é…å™¨é€šå¸¸ç”¨äºï¼š

1. **æ—§ç³»ç»Ÿä¸æ–°ç³»ç»Ÿå¹¶å­˜æ—¶çš„å…¼å®¹**
   ä¾‹å¦‚æ—§ç³»ç»Ÿç”¨ `OldLogger` æ¥å£ï¼Œæ–°ç³»ç»Ÿç”¨ `NewLogger` æ¥å£ï¼›
   åŒå‘é€‚é…å™¨è®©ä¸¤è€…éƒ½èƒ½äº’ç›¸è°ƒç”¨ï¼Œæ–¹ä¾¿å¹³æ»‘è¿ç§»ã€‚

2. **åŒç³»ç»Ÿäº’é€šåè®®æˆ– API è½¬æ¢**
   æ¯”å¦‚ç½‘ç»œé€šä¿¡ä¸¤ç«¯åè®®ç•¥æœ‰ä¸åŒï¼Œå¯é€šè¿‡åŒå‘é€‚é…å™¨æ¡¥æ¥ã€‚

3. **æµ‹è¯•æˆ–è¿‡æ¸¡æ€§å°è£…å±‚**
   åœ¨é‡æ„æœŸé—´ï¼Œç”¨åŒå‘é€‚é…å™¨å…¼å®¹æ–°æ—§ä»£ç ã€‚

---

## âš–ï¸ äº”ã€ä¼˜ç¼ºç‚¹åˆ†æ

| ä¼˜ç‚¹               | ç¼ºç‚¹                 |
| ---------------- | ------------------ |
| èƒ½å®ç°åŒå‘å…¼å®¹ï¼Œæ— éœ€ä¸¤ä¸ªé€‚é…å™¨ç±» | ä»£ç é€»è¾‘å¤æ‚ï¼ŒèŒè´£æ¨¡ç³Š        |
| é€‚åˆç³»ç»Ÿè¿ç§»è¿‡æ¸¡é˜¶æ®µ       | è¿åå•ä¸€èŒè´£åŸåˆ™ï¼ˆåŒæ—¶é€‚é…ä¸¤ä¸ªæ¥å£ï¼‰ |
| å‡å°‘ç±»æ•°é‡            | å¯è¯»æ€§å·®ï¼Œä¸åˆ©äºé•¿æœŸç»´æŠ¤       |

---

## âœ… å…­ã€å®è·µå»ºè®®

| æƒ…å†µ          | å»ºè®®                |
| ----------- | ----------------- |
| ç³»ç»Ÿé•¿æœŸå­˜åœ¨      | ç”¨**ä¸¤ä¸ªå•å‘é€‚é…å™¨**ï¼ŒèŒè´£æ¸…æ™° |
| ç³»ç»Ÿè¿ç§»ã€æµ‹è¯•æœŸ    | å¯ç”¨**åŒå‘é€‚é…å™¨**ä¸´æ—¶è¿‡æ¸¡   |
| é€»è¾‘éå¸¸å¯¹ç§°ã€æ¥å£å¾ˆå° | åŒå‘é€‚é…å™¨æ˜¯åˆç†çš„æ–¹æ¡ˆ       |

---

### ğŸ§­ ä¸¾ä¸ªç°å®ç±»æ¯”ï¼š

> å•å‘é€‚é…å™¨å°±åƒâ€œç¿»è¯‘å®˜Aï¼šåªæ‡‚è‹±è¯­â†’ä¸­æ–‡â€ï¼›
> åŒå‘é€‚é…å™¨åˆ™æ˜¯â€œç¿»è¯‘å®˜Bï¼šæ—¢æ‡‚è‹±è¯­â†’ä¸­æ–‡ï¼Œä¹Ÿæ‡‚ä¸­æ–‡â†’è‹±è¯­â€ã€‚

ç¿»è¯‘å®˜Bæ›´æ–¹ä¾¿ï¼Œä½†è„‘å­æ›´ä¹±ï¼ˆå¤æ‚åº¦æ›´é«˜ ğŸ˜„ï¼‰ã€‚

---

æ˜¯å¦å¸Œæœ›æˆ‘å¸®ä½ ç”»ä¸€å¼ â€œåŒå‘é€‚é…å™¨â€ç»“æ„å›¾ï¼ˆç±»ä¹‹é—´çš„å…³ç³»ï¼‰ï¼Ÿä¼šæ›´ç›´è§‚åœ°çœ‹åˆ°å®ƒæ˜¯å¦‚ä½•åŒå‘é€‚é…çš„ã€‚
